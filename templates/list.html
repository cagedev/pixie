<!DOCTYPE html>
<html>
  <head>
    <title>Files</title>
  </head>
  <body>
    <h1>Uploaded Files</h1>

    <ol>
      {% for file in files %}
      <li>
        {{ file.filename }}
        <img src="./img/{{file.filename}}" height="32" />
        <a
          onclick="showImage('./api/v1.0/show_image?filename={{file.filename}}')"
        >
          [ showImage() ]
        </a>
        {% if file.extension == ".gif" %}
        <a
          onclick="showImage('./api/v1.0/show_gif?filename={{file.filename}}')"
        >
          [ showGif() ]
        </a>
        {% endif %}
      </li>
      {% endfor %}
    </ol>

    <script>
      function showImage(uri) {
        var req = new XMLHttpRequest();
        req.addEventListener("load", console.log(this.responseText));
        req.open("GET", uri);
        req.send();
      }
    </script>
  </body>
</html>
